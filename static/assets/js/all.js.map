{"version":3,"sources":["feed.js","html-patch.js","script.js","search.js","share.js"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["const EPOCHS = {\n  year:   31536000,\n  month:  2592000,\n  day:    86400,\n  hour:   3600,\n  minute: 60\n};\n\nconst getDuration = (seconds) => {\n  for (let epoch of Object.keys(EPOCHS)) {\n    const interval = Math.floor(seconds / EPOCHS[epoch]);\n    if (interval >= 1) {\n      return { interval: interval, epoch: epoch };\n    }\n  }\n};\n\nconst timeAgo = (date) => {\n  var timeAgoInSeconds = Math.floor((new Date() - new Date(date)) / 1000);\n  var {interval,epoch} = getDuration(timeAgoInSeconds);\n  var suffix = interval === 1 ? '' : 's';\n  return `${interval} ${epoch}${suffix} ago`;\n};\n\nfunction getFeed() {\n  axios.get('https://api.github.com/users/geowarin/events')\n  .then((feed) => {\n    return _(feed.data)\n    //.filter((item) => item.repo != undefined)\n    .map((item) => {\n      if (item.type === 'WatchEvent') {\n        const name = item.repo.name;\n        return `${timeAgo(item.created_at)}, I watched <a href='https://github.com/${name}'>${name}</a>`\n      }\n      if (item.type === 'CreateEvent') {\n        const name = item.repo.name;\n        return `${timeAgo(item.created_at)}, I created <a href='https://github.com/${name}'>${name}</a>`\n      }\n    })\n    .filter((item) => item != null)\n    .value()\n  })\n  .then((links) => {\n    links.forEach((link) => {\n      $('#feed').append(`<li>${link}</li>`)\n    })\n  })\n  axios.get('https://api.github.com/users/geowarin/starred', {headers: {\n    'Accept': 'application/vnd.github.v3.star+json'\n  }})\n  .then((feed) => {\n    return _(feed.data)\n    //.filter((item) => item.repo != undefined)\n    .map((item) => {\n      const name = item.repo.full_name;\n      return `${timeAgo(item.starred_at)}, I starred <a href='https://github.com/${name}'>${name}</a>`\n    })\n    .filter((item) => item != null)\n    .value()\n  })\n  .then((links) => {\n    links.forEach((link) => {\n      $('#feed').append(`<li>${link}</li>`)\n    })\n  })\n}\n","// Highlight current nav item\nfunction levensthein(first, second) {\n  if (first === second) return 0;\n\n  var v0 = [];\n  var v1 = [];\n\n  for (var i = 0; i < second.length + 1; i++) {\n    v0[i] = i;\n  }\n\n  for (var i = 0; i < first.length; i++) {\n    // calculate v1 (current row distances) from the previous row v0\n    v1[0] = i + 1;\n\n    // use formula to fill in the rest of the row\n    for (var j = 0; j < second.length; j++) {\n      var cost = first[i] == second[j] ? 0 : 1;\n      v1[j + 1] = Math.min(v1[j] + 1, v0[j + 1] + 1, v0[j] + cost);\n    }\n\n    // copy v1 (current row) to v0 (previous row) for next iteration\n    for (var j = 0; j < v0.length; j++) {\n      v0[j] = v1[j];\n    }\n  }\n\n  return v1[second.length];\n}\n\nvar firstTitle = $('.page-title-link').text().toUpperCase();\nvar links = $('#main-nav > li > .main-nav-list-link');\n\nvar bestLink = _(links.toArray()).min(function(link) {\n  return levensthein(firstTitle, $(link).text().toUpperCase());\n});\n$(bestLink).addClass('current');\n\n// Sidebar expend\n$('#sidebar .sidebar-toggle').click(function() {\n  if ($('#sidebar').hasClass('expend'))\n    $('#sidebar').removeClass('expend');\n  else\n    $('#sidebar').addClass('expend');\n});\n","// Nav bar toggle\n$('#main-nav-toggle').on('click', function() {\n  $('.nav-container-inner').slideToggle();\n});\n\n// anchors\nanchors.options.visible = 'hover';\nanchors.add('.article-inner h2');\n\n// fast click\n$(function() {\n    FastClick.attach(document.body);\n});\n\n// Captions\n$('.article-entry').each(function(i) {\n  $(this).find('img').each(function() {\n    if ($(this).parent().hasClass('fancybox')) return;\n\n    var alt = this.alt;\n\n    if (alt) $(this).after('<span class=\"caption\">' + alt + '</span>');\n\n    $(this).wrap('<a href=\"' + this.src + '\" title=\"' + alt + '\" class=\"fancybox\"></a>');\n  });\n\n  $(this).find('.fancybox').each(function() {\n    $(this).attr('rel', 'article' + i);\n  });\n});\n\nif ($.fancybox) {\n  $('.fancybox').fancybox();\n}\n\n//Back to top\n$(\"#back-to-top\").on('click', function() {\n  $('body,html').animate({\n    scrollTop: 0\n  }, 600);\n});\n","var postTemplate = _.template(\n['<div class=\"article-row\">',\n' <article class=\"article article-summary full-width\">',\n'   <div class=\"article-summary-inner\">',\n'      <h2 class=\"article-title\">',\n'        <a href=\"<%= post.url %>\" class=\"title\"><%= post.title %></a>',\n'      </h2>',\n'      <p class=\"article-excerpt\">',\n'        <%= post.excerpt %>',\n'      </p>',\n'    </div>',\n'  </article>',\n'</div>'].join(''));\n\nvar search = function(posts) {\n\n  var queryParams = (function(queries) {\n    if (queries == \"\")\n      return {};\n\n    var params = {};\n    for (var i = 0; i < queries.length; ++i) {\n      var param = queries[i].split('=', 2);\n      if (param.length == 1)\n          params[param[0]] = \"\";\n      else\n          params[param[0]] = decodeURIComponent(param[1].replace(/\\+/g, \" \"));\n    }\n    return params;\n  })(window.location.search.substr(1).split('&'));\n\n  var searched = queryParams['q'];\n  $('.page-title-link').text('Search for \"' + searched + '\"');\n  $('#search-form-wrap input').val(searched);\n\n  var searchRegex = new RegExp(searched, 'i');\n  _(posts)\n  .filter(function (post) {\n    var categoryMatch = _.any(post.categories, function (test) {\n      return searchRegex.test(test)\n    });\n    return categoryMatch\n      || post.excerpt.match(searchRegex)\n      || post.title.match(searchRegex);\n  })\n  .forEach(function(match) {\n      $('#search-results').append(postTemplate({post: match}));\n  }).value();\n}\n","var providers = {\n  twitter: {\n    countUrl: 'http://opensharecount.com/count.json?url={url}&callback=?',\n    postUrl: 'https://twitter.com/intent/tweet?url={url}&via=geowarin&text={title}',\n    getCount: function(result) {\n      return result && result.count;\n    }\n  },\n  linkedIn: {\n    countUrl: 'https://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?',\n    postUrl: 'http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}',\n    getCount: function(result) {\n      return result.count;\n    }\n  },\n  facebook: {\n    countUrl: 'https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?',\n    postUrl: 'http://www.facebook.com/sharer/sharer.php?u={url}&t={title}',\n    getCount: function(result) {\n      return result.data[0].share_count;\n    }\n  },\n  google: {\n    countUrl: null,\n    postUrl: 'https://plus.google.com/share?&url={url}',\n    getCount: function(result) {\n      return '';\n    }\n  }\n}\n\n$('.article-share-links').each(function() {\n  var $links = $(this);\n  var articleUrl = $links.attr('data-url');\n  var articleTitle = $links.attr('data-title');\n  var encodedUrl = encodeURIComponent(articleUrl);\n\n  var shareButtons = $links.find('a');\n  $(shareButtons).each(function () {\n\n      var $link = $(this);\n      var linkProvider = $link.attr('data-provider');\n      var provider = providers[linkProvider];\n\n      if (provider) {\n\n        if (provider.countUrl) {\n          var url = provider.countUrl.replace('{url}', encodedUrl);\n          $.getJSON(url, function(result) {\n            var count = provider.getCount(result)\n            $link.find('.count').text(count);\n          });\n        } else {\n          var count = provider.getCount(null)\n          $link.find('.count').text(count);\n        }\n\n        var href = provider.postUrl\n          .replace('{url}', articleUrl)\n          .replace('{title}', articleTitle);\n        $link\n          .attr('href', href)\n          .on('click', function(e) {\n            return !window.open(href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');\n          });\n      }\n  });\n});\n"],"sourceRoot":"/source/"}